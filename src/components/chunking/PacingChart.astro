---
// Dynamic Pacing Control Chart
---
<div class="bg-white dark:bg-slate-900 p-8 rounded-2xl shadow-lg border border-slate-200 dark:border-white/5 my-8 not-prose">
    <h3 class="text-xl font-bold text-slate-800 dark:text-white mb-2">Dynamic Pacing Control</h3>
    <p class="text-xs text-slate-500 dark:text-slate-400 mb-6">
        Chunk length adapts to narrative sentiment. High Tension = Short Cuts.
    </p>
    <div class="chart-container relative h-[250px] w-full">
        <canvas id="pacingChart"></canvas>
    </div>
</div>

<script>
    import Chart from 'chart.js/auto';

    document.addEventListener('DOMContentLoaded', () => {
        const ctx = document.getElementById('pacingChart');
        if (ctx) {
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Start', 'Build', 'Fight!', 'Climax', 'Rest', 'End'],
                    datasets: [
                        {
                            label: 'Chunk Duration (Seconds)',
                            data: [8, 6, 2.5, 3, 7, 8], // The Curve
                            borderColor: '#0F766E', // Teal
                            backgroundColor: 'rgba(15, 118, 110, 0.1)',
                            fill: true,
                            tension: 0.4,
                            borderWidth: 3,
                            pointBackgroundColor: '#fff',
                            pointBorderColor: '#0F766E',
                            pointRadius: 4,
                            pointHoverRadius: 6
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            min: 0,
                            max: 10,
                            title: { display: true, text: 'Duration (Seconds)' },
                            grid: { color: 'rgba(148, 163, 184, 0.1)' }
                        },
                        x: {
                            grid: { display: false }
                        }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        }
    });
</script>
